<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hadi | AI Developer</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  background:#020617;
  color:#e5e7eb;
  font-family:"Times New Roman", Times, serif;
}

/* AI Canvas */
#ai-bg{
  position:fixed;
  inset:0;
  z-index:0;
}

/* site content */
body > *:not(canvas){
  position:relative;
  z-index:10;
}

/* NAV */
nav{
  background:#01040d;
  padding:12px 20px;
  display:flex;
  gap:24px;
  position:fixed;
  top:0;
  width:100%;
  z-index:100;
}

nav a{color:white;text-decoration:none;}
section{padding:120px 40px 80px;max-width:1000px;margin:auto;}
.subtitle{color:#60a5fa;font-size:26px;}
</style>
</head>

<body>

<canvas id="ai-bg"></canvas>

<nav>
  <a href="#home">HOME</a>
  <a href="#about">ABOUT</a>
</nav>

<section id="home">
  <h1>Hadi Kanani</h1>
  <div class="subtitle">AI & Deep Learning Developer</div>
  <p>Move your hand in front of camera âœ‹</p>
</section>

<section id="about">
  <p>Interactive AI portfolio website.</p>
</section>

<script type="module">
import {
  FilesetResolver,
  HandLandmarker
} from "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0";

const canvas = document.getElementById("ai-bg");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize(); window.onresize = resize;

// camera
const video = document.createElement("video");
const stream = await navigator.mediaDevices.getUserMedia({video:true});
video.srcObject = stream;
await video.play();

// mediapipe
const fileset = await FilesetResolver.forVisionTasks(
  "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"
);

const hand = await HandLandmarker.createFromOptions(fileset,{
  baseOptions:{
    modelAssetPath:
    "https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task"
  },
  numHands:1,
  runningMode:"VIDEO"
});

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const res = hand.detectForVideo(video, performance.now());

  if(res.landmarks){
    for(const h of res.landmarks){
      for(const p of h){
        ctx.beginPath();
        ctx.arc(p.x*canvas.width, p.y*canvas.height, 6, 0, Math.PI*2);
        ctx.fillStyle="#00f5ff";
        ctx.fill();
      }
    }
  }
  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
